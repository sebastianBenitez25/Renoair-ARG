---
const labels = [
  'Formación y Capacitación',
  'Seguro de Vida',
  'Programas de Bienestar',
  'Vale de Transporte',
  'Plan de Salud',
  'Home Office'
];
const descriptions = [
  'Ofrecemos formaciones y capacitaciones para desarrollo profesional, mejora de habilidades, crecimiento en la carrera, innovación y excelencia en el desempeño.',
  'Nuestro seguro de vida garantiza protección financiera para ti y tu familia, ofreciendo cobertura amplia y beneficios exclusivos.',
  'Nuestro programa de bienestar ofrece vales de alimentación, apoyo a la salud, mejor calidad de vida y descuentos exclusivos.',
  'Nuestro vale-transporte garantiza economía y comodidad para tus desplazamientos diarios.',
  'Cobertura amplia en hospitales y clínicas para tu bienestar y el de tu familia.',
  'Flexibilidad para trabajar desde donde prefieras, mejorando tu calidad de vida.'
];
---
<section
  id="trabaja-con-nosotros"
  class="relative pt-20 pb-32 bg-[var(--arg-primary)] overflow-hidden"
>
 <div class="relative z-10 max-w-screen-lg mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
    <!-- Texto slide-in -->
    <div
      data-animate
      class="opacity-0 transform -translate-x-6 transition-all duration-700 ease-out space-y-4 text-white"
    >
      <span class="text-sm font-semibold uppercase text-[var(--arg-accent)]">Equipo</span>
      <h2 class="text-4xl md:text-5xl font-bold uppercase">Trabaja con nosotros</h2>
      <div class="h-1 w-16 bg-[var(--arg-accent)] rounded"></div>
      <p class="text-base leading-relaxed">
        ¿Apasionado por la energía eólica? Únete a nuestro equipo de ingenieros y profesionales.
      </p>
      <p class="text-base leading-relaxed">
        Ofrecemos un ambiente dinámico, proyectos internacionales y desarrollo profesional continuo.
      </p>
      <a
        href="/careers"
        class="inline-block mt-6 px-6 py-3 bg-[var(--arg-accent)] text-white font-semibold rounded-full shadow hover:bg-[var(--arg-primary)] transition-colors"
      >
        Contáctanos ➔
      </a>
    </div>
 </div>

  <!-- Beneficios: slider en móvil, grid en desktop -->
  <div class="relative z-10 max-w-screen-lg mx-auto px-4 mt-20">
    <span class="text-sm font-semibold uppercase text-[var(--arg-accent)]">Conoce</span>
    <h3 class="mt-1 text-3xl font-bold text-white">Nuestros beneficios</h3>

    <div class="mt-6 relative">
      <div
        id="beneficios-slider"
        class="
          flex gap-6 overflow-x-auto snap-x snap-mandatory scroll-smooth px-2
          md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-8 md:overflow-visible md:snap-none
          scrollbar-none
        "
      >
        {labels.map((label, i) => (
          <div class="snap-center flex-shrink-0 w-full md:snap-none">
            <div class="h-full border border-[var(--arg-accent)] rounded-lg p-6 text-white bg-[var(--arg-primary)]">
              <div class="text-[var(--arg-accent)] font-bold text-2xl">{i + 1}</div>
              
              <!-- Inline SVG icon -->
              <div class="mx-auto my-4 w-12 h-12 text-[var(--arg-accent)]">
                {i === 0 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                 
                    <path fill="currentColor" d="M12 2L2 7l10 5 10-5-10-5zm0 6L2 9l10 5 10-5-10-1z"/>
                  </svg>
                )}
                {i === 1 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
              
                    <path fill="currentColor" d="M12 1L3 5v6c0 5.25 3.5 10.74 9 12 5.5-1.26 9-6.75 9-12V5l-9-4z"/>
                  </svg>
                )}
                {i === 2 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                 
                    <circle fill="currentColor" cx="12" cy="12" r="10"/>
                  </svg>
                )}
                {i === 3 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
               
                    <path fill="currentColor" d="M3 13h2l1-4h12l1 4h2v6h-2v-1H5v1H3v-6zm3 0l1-3h10l1 3H6z"/>
                  </svg>
                )}
                {i === 4 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                   
                    <path fill="currentColor" d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-2H9v-2h2v-2h2v2h2v2h-2zm-1-8a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/>
                  </svg>
                )}
                {i === 5 && (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                  
                    <path fill="currentColor" d="M4 6h16v2H4zm0 4h16v2H4zm0 4h16v2H4z"/>
                  </svg>
                )}
              </div>

              <h4 class="font-semibold text-xl">{label}</h4>
              <p class="mt-2 text-sm">{descriptions[i]}</p>
            </div>
          </div>
        ))}
      </div>

      <button
        id="prev-beneficio"
        class="md:hidden absolute top-1/2 -left-4 transform -translate-y-1/2 bg-[var(--arg-accent)] text-white rounded-full w-8 h-8 flex items-center justify-center shadow"
      >‹</button>
      <button
        id="next-beneficio"
        class="md:hidden absolute top-1/2 -right-4 transform -translate-y-1/2 bg-[var(--arg-accent)] text-white rounded-full w-8 h-8 flex items-center justify-center shadow"
      >›</button>
    </div>
  </div>


  <script type="module" is:inline>
    document.addEventListener('DOMContentLoaded', () => {
      // Slide-in
      document.querySelectorAll('#trabaja-con-nosotros [data-animate]').forEach(el => {
        const io = new IntersectionObserver((entries, obs) => {
          if (entries[0].isIntersecting) {
            el.classList.remove('opacity-0', 'translate-x-6', '-translate-x-6');
            obs.unobserve(el);
          }
        }, { threshold: 0.3 });
        io.observe(el);
      });

      // Carousel controls
      const slider = document.getElementById('beneficios-slider');
      const gap = parseFloat(getComputedStyle(slider).gap);
      const card = slider.querySelector('.snap-center');
      const slideWidth = card.getBoundingClientRect().width + gap;
      document.getElementById('prev-beneficio').onclick = () =>
        slider.scrollBy({ left: -slideWidth, behavior: 'smooth' });
      document.getElementById('next-beneficio').onclick = () =>
        slider.scrollBy({ left: slideWidth, behavior: 'smooth' });
    });
  </script>
</section>
